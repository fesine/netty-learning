共享资源
1、如果一段代码是线程安全的，则它不包含竞态条件。只有当多个线程更新共享资源时，才会发生竞态条件。
2、栈封闭时，不会在线程之间共享的变量，都是线程安全的。
3、局部对象引用本身不共享，但是引用的对象存储在共享堆中。
如果在方法内创建的对象，只是在方法中传递，并且不对其他线程可用，那么也是线程安全的。
判定规则：如果创建、使用和处理资源，永远不会逃脱单个线程的控制，该资源的使用就是线程安全的。

不可变对象
创建不可变的共享对象来保证对象在线程间共享时不会被修改，从而实现线程安全。
实例被创建，value变量就不能被修改，这就是不可变性。